{% extends "base.html.twig" %}

{% block title %}Boards{% endblock %}

{% block body %}

<div class="content">
    <div class="pure-g">
        <div class="pure-u-1">
            <h1>Boards</h1>
        </div>
    </div>
    {% if not is_granted("ROLE_ADMIN") %}
        <div class="pure-g">
            <div class="pure-u-1 text-center">
                <h2><a href="javascript:;" onClick="newBoard()">Start a New Board</a></h2>
            </div>
        </div>
        <div id="new_board">
            <div class="pure-g">
                <div class="pure-u-1 text-center">
                    {{form(new_board)}}
                </div>
            </div>
        </div>
    {% endif %}
    <div class="pure-g">
        {% for board in boards|sort((a, b) => a.abbreviation <=> b.abbreviation) %}
            <div class="pure-u">
                <p><a href="{{path("get_board", {abbreviation: board.abbreviation})}}">/{{board.abbreviation}}/ - {{board.name}}</a></p>
            </div>
        {% endfor %}
    </div>
</div>

{% endblock %}

{% block js %}

<script>

    newBoard();

    function newBoard()
    {
        $("#new_board").toggle();
    }

</script>

{% endblock %}
