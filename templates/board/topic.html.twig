{% extends "base.html.twig" %}

{% block title %}/{{board.name}}/ - {{topic.replies.first.content}}{% endblock %}

{% block body %}

<div class="content">
    <div class="pure-g">
        <div class="pure-u-1 text-center">
            <p><a href="{{path("new_reply", {name: board.name, topic_id: topic.id})}}">New Reply</a></p>
        </div>
    </div>
    <div class="pure-g">
        {% for reply in replies %}
            <div class="pure-u-1">
                <div class="reply" id="{{reply.id}}">
                    <div class="pure-g">
                        <div class="pure-u-1">
                            <p>#{{reply.id}} {{reply.tsCreated|date("d.m.Y H:m:s")}} <a href="{{path("new_reply", {name: board.name, topic_id: topic.id, reply_id: reply.id})}}">Reply</a></p>
                        </div>
                        {% if reply.attachment %}
                        <div class="pure-u">
                            <p><img style="width: 100px" src="{{asset('attachments/' ~ reply.attachment)}}" alt="{{reply.attachment}}"></img></p>
                        </div>
                        {% endif %}
                        {% if reply.content %}
                        <div class="pure-u">
                            <p>{{reply.content}}</p>
                        </div>
                        {% endif %}
                        {% if reply.replies is empty %}
                        <div class="pure-u-1">
                            <p>{% for reply_to in reply.replies %}<a href="#{{reply_to.id}}">#{{reply_to.id}}</a> {% endfor %}</p>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>

{% endblock %}
