{% extends "base.html.twig" %}

{% block title %}/{{board.abbreviation}}/ - {{board.name}}{% endblock %}

{% block body %}

<div class="content">
    <div class="pure-g">
        <div class="pure-u-1">
            <h1>/{{board.abbreviation}}/ - {{board.name}}</h1>
        </div>
    </div>
    <div class="pure-g">
        <div class="pure-u-1 text-center">
            <h2><a href="{{path("new_thread", {abbreviation: board.abbreviation})}}">Start a New Thread</a></h2>
        </div>
    </div>
    <div class="pure-g">
        {% for thread in threads %}
            <div class="pure-u-1-2 pure-u-sm-1-3 pure-u-md-1-4 pure-u-lg-1-6 pure-u-xl-1-8">
                {% if thread.replies.first.attachment %}
                    <p><a href="{{path("get_thread", {abbreviation: board.abbreviation, thread_id: thread.id})}}"><img style="max-width: 100%; height: auto;" src="{{asset('attachments/' ~ thread.replies.first.attachment)}}" alt="{{thread.replies.first.attachment}}"></img></a></p>
                {% endif %}
                <p>Replies: {{thread.replies|length - 1}}</p>
                <p><a href="{{path("get_thread", {abbreviation: board.abbreviation, thread_id: thread.id})}}">{{thread.replies.first.content}}</a></p>
            </div>
        {% endfor %}
    </div>
</div>

{% endblock %}
